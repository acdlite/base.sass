//=============
// CSS3 Mixins
//=============

@import 'compass/css3/animation';
@import 'compass/css3/appearance';
@import 'compass/css3/background-clip';
@import 'compass/css3/background-origin';
@import 'compass/css3/background-size';
@import 'compass/css3/box-shadow';
@import 'compass/css3/box-sizing';
@import 'compass/css3/columns';
@import 'compass/css3/filter';
@import 'compass/css3/flexbox';
@import 'compass/css3/hyphenation';
@import 'compass/css3/images';
@import 'compass/css3/opacity';
@import 'compass/css3/regions';
@import 'compass/css3/selection';
@import 'compass/css3/transform';
@import 'compass/css3/transition';
@import 'compass/css3/user-interface';


@mixin inline-block {
  display: inline-block;

  @if support-legacy-browser(ie, 7) {
    *display: inline;
    *zoom: 1;
  }
}

@mixin font-face(
  $filename,
  $font-family: $filename,
  $dirname: $filename,
  $includes: eot woff ttf
) {
  $prefix: $dirname + '/' + $filename + '.';
  $src: comma-list();

  @each $ext in $includes {
    $suffix: if($ext == 'eot', '?#iefix', '');
    $src: append($src, font-files(quote($prefix + $ext + $suffix)));
  }

  @font-face {
    font-family: quote($font-family);

    // ie9 compat mode
    @if index($includes, 'eot') {
      src: font-url($prefix + 'eot');
    }
    src: $src;

    // other styles
    @content;
  }
}

// Short retina mixin for setting background-image and background-size.
@mixin img-retina($img-1x, $img-2x, $bg-size: $default-background-size) {
  background-image: image-url($img-1x);

  $vendor: comma-list();
  @include with-each-prefix(background-img-opts, $background-size-threshold) {
    @if $current-prefix == -webkit { $vendor: append($vendor, -vendor(-webkit-min, '2')); }
    @if $current-prefix == -moz    { $vendor: append($vendor, -vendor(min--moz, '2')); }
    @if $current-prefix == -o      { $vendor: append($vendor, -vendor(-o-min, '2/1')); }
    @if $current-prefix == null    { $vendor: append($vendor, -vendor(min, '2')); }
  }

  @media #{$vendor},
  only screen and (min-resolution: 192dpi),
  only screen and (min-resolution: 2dppx) {
    background: {
      image: image-url($img-2x);
      size: unquote($bg-size);
    }
  }
}
@function -vendor($prefix, $ratio) {
  @return unquote('only screen and (#{$prefix}-device-pixel-ratio: #{$ratio})');
}
