@include test-module('Url helpers for fonts and images') {

  @include test('font-url($path)') {
    $f: unquote("format('embedded-opentype')");
    @include assert-true(str-index(font-url('path/to/font.eot'), $f),
      "The returns should include `#{$f}`");
  }

  @include test('font-url($path)') {
    @include assert-true(str-index(font-url('path/to/font.eot#iefix'), '#iefix)'),
      "The anchor should can be retained");
  }

  @include test('font-url($path)') {
    @include assert-true(str-index(font-url('path/to/font.eot'), '.eot?'),
      "The timestamp should added automatically");
  }

  @include test('font-url($path)') {
    @include assert-false(str-index(font-url('path/to/font.eot', false), '.eot?'),
      "The timestamp should can be closed");
  }

  @include test('font-url($path)') {
    @include assert-true(str-index(font-url('path/to/font.eot', abc), '.eot?abc'),
      "The timestamp should can be customized");
  }


  @include test('image-url($path)') {
    @include assert-true(str-index(image-url('path/to/pic.png#anchor'), '#anchor)'),
      "The anchor should can be retained");
  }

  @include test('image-url($path)') {
    @include assert-true(str-index(image-url('path/to/pic.png'), '.png?'),
      "The timestamp should added automatically");
  }

  @include test('image-url($path)') {
    @include assert-false(str-index(image-url('path/to/pic.png', false), '.png?'),
      "The timestamp should can be closed");
  }

  @include test('image-url($path)') {
    @include assert-true(str-index(image-url('path/to/pic.png', abc), '.png?abc'),
      "The timestamp should can be customized");
  }


  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/1px.png'), 'data:image/png;base64,'),
      "The mime type of png file should be `image/png`");
  }

  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/1px.jpg'), 'data:image/jpeg;base64,'),
      "The mime type of jpg/jpeg file should be `image/jpeg`");
  }

  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/1px.gif'), 'data:image/gif;base64,'),
      "The mime type of gif file should be `image/gif`");
  }

  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/font.eot'), 'data:application/vnd.ms-fontobject;base64,'),
      "The mime type of eot file should be `application/vnd.ms-fontobject`");
  }

  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/font.woff'), 'data:application/font-woff;base64,'),
      "The mime type of woff file should be `application/font-woff`");
  }

  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/font.ttf'), 'data:font/truetype;base64,'),
      "The mime type of ttf file should be `font/truetype`");
  }

  @include test('data-url($path)') {
    @include assert-true(str-index(data-url('assets/font.svg'), 'data:image/svg+xml;base64,'),
      "The mime type of svg file should be `image/svg+xml`");
  }

}
